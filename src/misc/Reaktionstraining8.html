<!DOCTYPE html>
<html lang="de">
    <!-- Copyright (C) thd 2020, CC BY-SA 4.0

    -->
    <head>
        <meta charset="UTF-8">
        <!-- Grundsätzlicher style: Weißer Hintergrund, blaue Schrift. Größe proportional zum Viewport -->
        <style>
         body {
             background-color: white;
         }
         h1 {
             color     : blue;
             text-align: center;
             font-size : 20vw;
             text-shadow:
                  0.3vw  0.3vw 1px black,
                  0.3vw -0.3vw 1px black,
                 -0.3vw  0.3vw 1px black,
                 -0.3vw -0.3vw 1px black;
         }
         h2 {
             color: white;
             text-align: center;
             font-size: 6vw;
         }
        </style>
    </head>
    <body onload="pageLoaded()">
        <script>
         var base   = 2000;
         var show   =  500;
         var jitter = 1000;
         var visible= false;
         var clen   = 2;
         var cntr   = clen-1;
         var canvas;
         var context;
         var worte = ["ROT", "GRÜN", "BLAU", "GELB"];
         var farben= ["red", "green", "blue", "yellow"];
         function pageLoaded(){
             const queryString = window.location.search;
             const urlParams = new URLSearchParams(queryString);
             if(urlParams.has('base')){
                 base = parseInt(urlParams.get('base'));
             }
             if(urlParams.has('show')){
                 show = parseInt(urlParams.get('show'));
             }
             if(urlParams.has('jitter')){
                 jitter = parseInt(urlParams.get('jitter'));
             }
             console.log('Base: '+ base+' show: '+ show +' Jitter: '+jitter);
             canvas = document.getElementById('c');
             context = canvas.getContext('2d');
             looping();
         }
         function looping(){
             if(visible){
                 visible = false;
                 var t = setTimeout(looping, base + Math.floor(Math.random()*jitter));
             }
             else{
                 
                 /*
                    cntr = (cntr + 1) % clen;
                    if(cntr == 0){
                    var z;
                    do{
                    z= Math.floor(Math.random()*4);
                    }while( farben[z] ==document.body.style.backgroundColor);
                    document.body.style.backgroundColor = farben[z];
                    }
                    element.innerHTML   = worte [Math.floor(Math.random()*4)];
                    element.style.color = farben[Math.floor(Math.random()*4)];
                  */
                 visible = true;
                 var t = setTimeout(looping, show);
             }
         }
        </script>
        <canvas id="c" width="10vw" height="10vw">
        </canvas>
    </body>
</html>
